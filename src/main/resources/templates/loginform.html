<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<html class="no-js" lang="zxx">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Bomnal</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="site.webmanifest">
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.ico">

    <!-- CSS here -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/css/flaticon.css">
    <link rel="stylesheet" href="/css/price_rangs.css">
    <link rel="stylesheet" href="/css/slicknav.css">
    <link rel="stylesheet" href="/css/animate.min.css">
    <link rel="stylesheet" href="/css/magnific-popup.css">
    <link rel="stylesheet" href="/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="/css/themify-icons.css">
    <link rel="stylesheet" href="/css/slick.css">
    <link rel="stylesheet" href="/css/nice-select.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/login-style.css">
    <!-- CSS 수정 -->
    <!-- google Api -->
    <meta name ="google-signin-client_id" content="946342400843-930tcri8ijjg3luoc9vgv0emai5t1v09.apps.googleusercontent.com">

</head>

<body>
<!-- Preloader Start -->
<div id="preloader-active">
    <div class="preloader d-flex align-items-center justify-content-center">
        <div class="preloader-inner position-relative">
            <div class="preloader-circle"></div>
            <div class="preloader-img pere-text">
                <img src="assets/img/logo/logo.png" alt="">
            </div>
        </div>
    </div>
</div>
<!-- Preloader Start -->
<header>
    <th:block th:replace="fragments/header :: headerFragment"></th:block>
</header>
<main>


    <!-- Our Services Start -->
    <div class="our-services">
        <div class="container">
            <!-- Section Tittle -->
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-tittle text-center">

                        <span>Login page</span>
                        <div>
                            <div class="browse-btn2 text-center">
                                <div style="display: inline-block;">
                                    <hr id="per_upper_line" style="border: solid 1.5px #007bff; background-color: #007bff; width: 195px; margin: 0px 0px 5px; display:block;">
                                    <a id="per_login_btn" type="button" onclick="per_login_select()" href="javascript:void(0)" class="select-border-btn2">개인회원</a>
                                </div>
                                <div style="display: inline-block;">
                                    <hr id="com_upper_line" style="border: solid 1.5px #007bff; background-color: #007bff; width: 195px; margin: 0px 0px 5px; display:none;">
                                    <a id="com_login_btn" type="button" onclick="com_login_select()" href="javascript:void(0)" class="border-btn2">기업회원</a>
                                </div>
                            </div>


                            <div id="com_login_div" class="out-div-box" style="display:none;">
                                <form th:action="@{/login_com}" id="loginform_com" method="POST" style="display: inline-block;">
                                    <div class="center-login-div">
                                        <div class="input-box">
                                            <input id="company_id" type="text" name="company_id" placeholder="기업 아이디">
                                            <label for="company_id">기업 아이디</label>
                                        </div>
                                        <div class="input-box">
                                            <input id="company_pw" type="password" name="company_pw" placeholder="비밀번호">
                                            <label for="company_pw">비밀번호</label>
                                        </div>
                                    </div>
                                </form>
                                <p id="com_login_alert" style="color:red;"></p>
                            </div>
                            <div id="per_login_div" class="out-div-box" style="display:block;">
                                <form th:action="@{/login_per}" id="loginform_per" method="POST" style="display: inline-block;">
                                    <div class="center-login-div">
                                        <div class="input-box">
                                            <input id="mem_id" type="text" name="mem_id" placeholder="개인 아이디" >
                                            <label for="mem_id">개인 아이디</label>
                                        </div>
                                        <div class="input-box">
                                            <input id="mem_pw" type="password" name="mem_pw" placeholder="비밀번호">
                                            <label for="mem_pw">비밀번호</label>
                                        </div>
                                    </div>
                                </form>
                                <p id="per_login_alert" style="color:red;"></p>
                            </div>


                        </div>
                    </div>
                </div>
            </div>
            <div class="row d-flex justify-contnet-center">

            </div>
            <!-- More Btn -->
            <!-- Section Button -->
            <div class="row">
                <div class="col-lg-12" style="text-align:center !important;">


                    <div id="per_sign_div" class="browse-btn2 text-center mt-50" style="display:inline-block;">
                        <a href="javascript:void(0)" class="border-btn2" type="button" onclick="per_login_function()">로그인</a>
                        <a href="/signup_local" class="border-btn2">개인 회원가입</a>
                    </div>

                    <div id="com_sign_div" class="browse-btn2 text-center mt-50" style="display:none;">
                        <a href="javascript:void(0)" class="border-btn2" type="button" onclick="com_login_function()">로그인</a>
                        <a href="/signup_company" class="border-btn2">기업 회원가입</a>
                    </div>


                    <div class="browse-btn2 text-center" style="margin-bottom: 100px !important;">
                        <!-- kakao -->
                        <a id="kakao-login-btn" href="javascript:loginWithKakao()" style="display:inline-block;">
                            <img src="https://k.kakaocdn.net/14/dn/btroDszwNrM/I6efHub1SN5KCJqLm1Ovx1/o.jpg" width="222" alt="카카오 로그인 버튼" />
                        </a>
                        <!-- 네이버 로그인 버튼 노출 영역 -->
                        <div id="naver_id_login" style="display:inline-block"></div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <!-- Our Services End -->

</main>
<!--<footer>-->
<footer>
    <th:block th:replace="fragments/footer :: footerFragment"></th:block>
</footer>
<!--</footer>-->

<!-- JS here -->

<!-- All JS Custom Plugins Link Here here -->
<script src="/js/vendor/modernizr-3.5.0.min.js"></script>
<!-- Jquery, Popper, Bootstrap -->
<script src="/js/vendor/jquery-1.12.4.min.js"></script>
<script src="/js/popper.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<!-- Jquery Mobile Menu -->
<script src="/js/jquery.slicknav.min.js"></script>

<!-- Jquery Slick , Owl-Carousel Plugins -->
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/slick.min.js"></script>
<script src="/js/price_rangs.js"></script>

<!-- One Page, Animated-HeadLin -->
<script src="/js/wow.min.js"></script>
<script src="/js/animated.headline.js"></script>
<script src="/js/jquery.magnific-popup.js"></script>

<!-- Scrollup, nice-select, sticky -->
<script src="/js/jquery.scrollUp.min.js"></script>
<script src="/js/jquery.nice-select.min.js"></script>
<script src="/js/jquery.sticky.js"></script>

<!-- contact js -->
<script src="/js/contact.js"></script>
<script src="/js/jquery.form.js"></script>
<script src="/js/jquery.validate.min.js"></script>
<script src="/js/mail-script.js"></script>
<script src="/js/jquery.ajaxchimp.min.js"></script>

<!-- Jquery Plugins, main Jquery -->
<script src="/js/plugins.js"></script>
<script src="/js/main.js"></script>

<!-- kakako login -->
<script src="https://developers.kakao.com/sdk/js/kakao.js"></script>

<script type='text/javascript'>

            function per_login_select(){
                console.log("per_login");

                $("#per_login_div").css('display', 'block');
                document.getElementById('per_login_btn').className='select-border-btn2';
                $("hr#per_upper_line").css('display', 'block');
                $("hr#per_upper_line").css("border",'solid 1.5px #007bff');
                document.getElementById('com_login_btn').className='border-btn2';
                $("hr#com_upper_line").css('display', 'none');
                $("hr#com_upper_line").css('border','solid 1.5px #38a4ff');
                $("#per_sign_div").css('display', 'inline-block');

                $("#com_login_div").css('display', 'none');
                $("hr#com_upper_line").css('display', 'none');
                $("#com_sign_div").css('display', 'none');

                $("#com_login_alert").html();
                error_cnt = 0;
            }
            function com_login_select(){
                console.log("com_login");
                $("#per_login_div").css('display', 'none');
                document.getElementById('com_login_btn').className='select-border-btn2';
                $("hr#com_upper_line").css('display', 'block');
                $("hr#com_upper_line").css('border','solid 1.5px #007bff');
                document.getElementById('per_login_btn').className='border-btn2';
                $("hr#per_upper_line").css('display', 'none');
                $("hr#per_upper_line").css("border",'solid 1.5px #38a4ff');
                $("#per_sign_div").css('display', 'none');

                $("#com_login_div").css('display', 'block');
                $("hr#com_upper_line").css('display', 'block');
                $("#com_sign_div").css('display', 'inline-block');

                $("#per_login_alert").html();
                error_cnt = 0;
            }

	        function loginWithKakao() {
	        	Kakao.init('a975f70f0a16a4f131af7f7cdd795234'); // 사용하려는 앱의 키 입력
	            Kakao.Auth.authorize({
	              redirectUri: 'http://127.0.0.1:8081/kakaologin',
	              prompts:'login',
	              //scope: 'birthday,gender',
	            });
	        };

            var error_cnt = 0;

            function per_login_function(){
                var id = $("#mem_id").val();
                var pw = $("#mem_pw").val();
                $.ajax({
                    url:"/get_loginVO",
                    type:"POST",
                    data:{mem_id:id, mem_pw:pw},
                    success:(data)=>{
                        if (data != ""){
                            console.log(data);
                            error_cnt = 0;
                            document.getElementById('loginform_per').submit();
                        } else if (data == "") {
                            <!--console.log("per_data : null")-->
                            error_cnt += 1;
                            $("#per_login_alert").html("❕ ID 및 Password를 찾을 수 없습니다 틀린 횟수 : " + error_cnt)
                            $("#mem_id").val("");
                            $("#mem_pw").val("");
                        } else{
                            console.log("per_data : " + data)
                        };
                    },
                    error:(data)=>{
                        console.log("error" + data);
                    }
                });
            };

            function com_login_function(){
                var id = $("#company_id").val();
                var pw = $("#company_pw").val();
                $.ajax({
                    url:"/get_login_ComVO",
                    type:"POST",
                    data:{company_id:id,company_pw:pw},
                    success:(data)=>{
                        if (data != ""){
                            console.log(data);
                            error_cnt = 0;
                            document.getElementById('loginform_com').submit();
                        } else if (data == "") {
                            <!--console.log("com_data : null")-->
                            error_cnt += 1;
                            $("#com_login_alert").html("❕ ID 및 Password를 찾을 수 없습니다 틀린 횟수 : " + error_cnt)
                            $("#company_id").val("");
                            $("#company_pw").val("");
                        } else{
                            console.log("data : " + data)
                        };
                    },
                    error:(data)=>{
                        console.log("error" + data);
                    }
                });
            };
	         
        </script>

        <!-- Naver login -->
        <script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js" charset="utf-8"></script>
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>

        <script type="text/javascript">
            var naver_id_login = new naver_id_login("0ywzNhrfe4R0vRXSFeOf", "http://127.0.0.1:8081/loginform");
            var state = naver_id_login.getUniqState();
            naver_id_login.setButton("green", 5,46);
            naver_id_login.setDomain("YOUR_SERVICE_URL");
            naver_id_login.setState(state);
            naver_id_login.setPopup();
            naver_id_login.init_naver_id_login();
        </script>

</body>
</html>